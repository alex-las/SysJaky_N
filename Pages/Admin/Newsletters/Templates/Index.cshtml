@page
@model SysJaky_N.Pages.Admin.Newsletters.Templates.IndexModel

<h1 class="mb-4">Správa šablon newsletteru</h1>

<p>
    <a class="btn btn-primary" asp-page="Create">Nová šablona</a>
</p>

@if (Model.Templates.Count == 0)
{
    <p class="text-muted">Zatím nebyly vytvořeny žádné šablony.</p>
}
else
{
    <div class="table-responsive">
        <table class="table table-striped align-middle">
            <thead>
                <tr>
                    <th>Název</th>
                    <th>Primární barva</th>
                    <th>Akcent</th>
                    <th>Pozadí</th>
                    <th>Oblasti</th>
                    <th>Naposledy upraveno</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var template in Model.Templates)
                {
                    <tr>
                        <td>@template.Name</td>
                        <td>
                            <span class="badge" style="background-color: @template.PrimaryColor; color: #fff;">@template.PrimaryColor</span>
                        </td>
                        <td>
                            <span class="badge" style="background-color: @template.SecondaryColor; color: #111;">@template.SecondaryColor</span>
                        </td>
                        <td>
                            <span class="badge" style="background-color: @template.BackgroundColor; color: #111;">@template.BackgroundColor</span>
                        </td>
                        <td>@template.Regions.Count</td>
                        <td>@template.UpdatedAtUtc.ToLocalTime().ToString("g")</td>
                        <td class="text-end">
                            <a class="btn btn-outline-primary btn-sm" asp-page="Edit" asp-route-id="@template.Id">Upravit</a>
                            <a class="btn btn-outline-danger btn-sm" asp-page="Delete" asp-route-id="@template.Id">Smazat</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
