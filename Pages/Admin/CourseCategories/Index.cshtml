@page
@model SysJaky_N.Pages.Admin.CourseCategories.IndexModel
@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer Localizer
@{
    ViewData["Title"] = ViewData["Title"] ?? Localizer["Title"].Value;
}

<section class="admin-page-header">
    <div class="admin-page-header__title">
        <h1>@ViewData["Title"]</h1>
    </div>
    <div class="admin-page-header__actions">
        <button type="button"
                class="btn btn-admin-primary"
                data-admin-modal-target="#adminModal"
                data-url="@Url.Page("Create")">
            @Localizer["CreateButton"]
        </button>
    </div>
</section>

<div class="admin-table-wrapper table-responsive">
    <table class="table admin-table align-middle mb-0">
        <thead>
            <tr>
                <th scope="col">@Localizer["NameHeader"]</th>
                <th scope="col">@Localizer["SlugHeader"]</th>
                <th scope="col">@Localizer["OrderHeader"]</th>
                <th scope="col">@Localizer["StatusHeader"]</th>
                <th scope="col">@Localizer["CourseCountHeader"]</th>
                <th scope="col" class="text-end">@Localizer["ActionsHeader"]</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var category in Model.Categories)
        {
            <tr>
                <td>@category.Name</td>
                <td>@category.Slug</td>
                <td>@category.SortOrder</td>
                <td>
                    <span class="badge @(category.IsActive ? "bg-success" : "bg-secondary")">
                        @Localizer[category.IsActive ? "StatusActive" : "StatusInactive"]
                    </span>
                </td>
                <td>@category.CourseCount</td>
                <td class="text-end">
                    <div class="admin-table-actions justify-content-end">
                        <button type="button"
                                class="btn btn-sm btn-admin-ghost"
                                data-admin-modal-target="#adminModal"
                                data-url="@Url.Page("Edit", new { id = category.Id })">
                            @Localizer["EditLink"]
                        </button>
                        <button type="button"
                                class="btn btn-sm btn-admin-warning"
                                data-admin-modal-target="#adminModal"
                                data-url="@Url.Page("Delete", new { id = category.Id })">
                            @Localizer["DeleteLink"]
                        </button>
                    </div>
                </td>
            </tr>
        }
        </tbody>
    </table>
</div>
