@using System.Globalization
@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer Localizer
@{ 
    var currentCulture = CultureInfo.CurrentUICulture;
    var returnUrl = string.Concat(Context.Request.Path, Context.Request.QueryString);
    var isCzech = string.Equals(currentCulture.TwoLetterISOLanguageName, "cs", System.StringComparison.OrdinalIgnoreCase);
    var currentLanguageLabel = (isCzech ? Localizer["LanguageNameCs"] : Localizer["LanguageNameEn"]).Value;
}
<div class="dropdown language-switcher">
    <button class="btn btn-outline-light dropdown-toggle d-flex align-items-center justify-content-between gap-1 btn-nav-action" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" type="button">
        <i class="bi bi-globe" aria-hidden="true"></i>
        <span>@currentLanguageLabel</span>
    </button>
    <ul class="dropdown-menu dropdown-menu-end" role="menu" aria-label='@Localizer["LanguageMenuLabel"]'>
        <li>
            <form method="post" asp-controller="Localization" asp-action="SetLanguage" class="px-3 py-1" aria-label='@Localizer["ChangeLanguageFormLabel"]'>
                @Html.AntiForgeryToken()
                <input type="hidden" name="returnUrl" value="@returnUrl" />
                <button type="submit" name="culture" value="cs" class="dropdown-item w-100 text-start @(isCzech ? "active" : string.Empty)" role="menuitem">
                    @Localizer["LanguageNameCs"]
                </button>
            </form>
        </li>
        <li>
            <form method="post" asp-controller="Localization" asp-action="SetLanguage" class="px-3 py-1" aria-label='@Localizer["ChangeLanguageFormLabel"]'>
                @Html.AntiForgeryToken()
                <input type="hidden" name="returnUrl" value="@returnUrl" />
                <button type="submit" name="culture" value="en" class="dropdown-item w-100 text-start @(!isCzech ? "active" : string.Empty)" role="menuitem">
                    @Localizer["LanguageNameEn"]
                </button>
            </form>
        </li>
    </ul>
</div>
