@page
@{
    ViewData["Title"] = "Alpine & Tailwind Demo";
}

<section class="bg-slate-50 py-16">
    <div class="container mx-auto max-w-6xl px-4">
        <div class="text-center">
            <span class="badge-soft">Alpine.js Sandbox</span>
            <h1 class="section-heading mt-4">Rychlé ověření komponent</h1>
            <p class="section-subtitle mx-auto">Zvyšte jistotu, že integrace Alpine.js a Tailwind utility funguje správně.</p>
        </div>

        <div class="mt-12 grid gap-8 md:grid-cols-2">
            <div class="card-modern" x-data="{ count: 0 }">
                <div>
                    <h2 class="text-xl font-semibold text-ink">Počítadlo</h2>
                    <p class="mt-1 text-sm text-neutral-500">Jednoduchý counter pro rychlé testování reaktivity.</p>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-5xl font-semibold text-primary-600" x-text="count"></span>
                    <div class="flex items-center gap-3">
                        <button type="button" class="btn-ghost" x-on:click="count--">-1</button>
                        <button type="button" class="btn-primary" x-on:click="count++">+1</button>
                    </div>
                </div>
            </div>

            <div class="card-modern" x-data="{ enabled: false }" x-id="['toggle']">
                <div>
                    <h2 class="text-xl font-semibold text-ink">Přepínač režimu</h2>
                    <p class="mt-1 text-sm text-neutral-500">Ukázka práce s ARIA a tailwind utilitou <code>bg-emerald-500</code>.</p>
                </div>
                <button type="button"
                        :id="$id('toggle')"
                        class="relative inline-flex items-center rounded-full border border-neutral-300 bg-white/90 px-2 py-1 text-sm font-medium text-neutral-700 transition hover:border-primary-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-400"
                        :class="enabled ? 'bg-emerald-500 text-white shadow-lg ring-emerald-300' : 'bg-white/90'"
                        role="switch"
                        :aria-checked="enabled"
                        x-on:click="enabled = !enabled">
                    <span class="px-3" x-text="enabled ? 'Zapnuto' : 'Vypnuto'"></span>
                    <span class="absolute left-1 top-1 h-7 w-7 rounded-full bg-white shadow transition-transform duration-200"
                          :class="enabled ? 'translate-x-9' : 'translate-x-0'"></span>
                </button>
            </div>
        </div>

        <div class="mt-16" x-data>
            <h2 class="text-center text-xl font-semibold text-ink">Toast notifikace</h2>
            <div class="mt-6 flex flex-col items-center justify-center gap-3 md:flex-row">
                <button type="button" class="btn-primary" x-on:click="$store.toast.show('Úspěšně otestováno!', { type: 'success' })">Zobraz úspěch</button>
                <button type="button" class="btn-warning" x-on:click="$store.toast.show('Pozor na varování.', { type: 'warning', duration: 7000 })">Zobraz upozornění</button>
                <button type="button" class="btn-ghost" x-on:click="$store.toast.hide()">Skrýt</button>
            </div>

            <div class="relative mt-8 flex justify-end">
                <div class="w-full max-w-xs">
                    <div x-cloak
                         x-show="$store.toast.isOpen"
                         x-transition.opacity
                         class="rounded-2xl bg-neutral-900/95 p-5 text-white shadow-2xl ring-1 ring-neutral-800">
                        <div class="flex items-start justify-between gap-3">
                            <div>
                                <strong class="text-xs font-semibold uppercase tracking-wide text-primary-300" x-text="$store.toast.type"></strong>
                                <p class="mt-1 text-sm" x-text="$store.toast.message"></p>
                            </div>
                            <button type="button" class="btn-ghost h-9 px-3 py-2 text-xs" aria-label="Zavřít" x-on:click="$store.toast.hide()">✕</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
