@page "{id:int}"
@model SysJaky_N.Pages.Admin.Vouchers.DeleteModel
@{
    ViewData["Title"] = "Delete Voucher";
}

<h1>Delete Voucher</h1>

<div>
    <h4>Are you sure you want to delete this voucher?</h4>
    <dl class="row">
        <dt class="col-sm-3">Code</dt>
        <dd class="col-sm-9">@Model.Voucher.Code</dd>
        <dt class="col-sm-3">Type</dt>
        <dd class="col-sm-9">@Model.Voucher.Type</dd>
        <dt class="col-sm-3">Value</dt>
        <dd class="col-sm-9">
            @if (Model.Voucher.Type == SysJaky_N.Models.VoucherType.Percentage)
            {
                @string.Format("{0:0.##}%", Model.Voucher.Value)
            }
            else
            {
                @Model.Voucher.Value.ToString("C")
            }
        </dd>
        <dt class="col-sm-3">Expires</dt>
        <dd class="col-sm-9">
            @if (Model.Voucher.ExpiresUtc.HasValue)
            {
                @DateTime.SpecifyKind(Model.Voucher.ExpiresUtc.Value, DateTimeKind.Utc).ToLocalTime().ToString("g")
            }
            else
            {
                @:Never
            }
        </dd>
        <dt class="col-sm-3">Max redemptions</dt>
        <dd class="col-sm-9">@(Model.Voucher.MaxRedemptions?.ToString() ?? "Unlimited")</dd>
        <dt class="col-sm-3">Used</dt>
        <dd class="col-sm-9">@Model.Voucher.UsedCount</dd>
        <dt class="col-sm-3">Applies to</dt>
        <dd class="col-sm-9">@Model.Voucher.AppliesToCourse?.Title ?? "All courses"</dd>
    </dl>
    <form method="post" class="d-flex gap-2">
        <input type="hidden" asp-for="Voucher.Id" />
        <button type="submit" class="btn btn-danger">Delete</button>
        <a asp-page="Index" class="btn btn-secondary">Back to List</a>
    </form>
</div>
