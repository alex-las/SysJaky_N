@page "{id:int}"
@model SysJaky_N.Pages.Admin.CourseTerms.DeleteModel
@{
    ViewData["Title"] = "Smazat termín kurzu";
}

<h1>Smazat termín kurzu</h1>

@if (!string.IsNullOrEmpty(Model.ErrorMessage))
{
    <div class="alert alert-danger">@Model.ErrorMessage</div>
}

<h3>Opravdu chcete tento termín odstranit?</h3>

<dl class="row mt-4">
    <dt class="col-sm-3">Kurz</dt>
    <dd class="col-sm-9">@Model.Term.Course?.Title</dd>
    <dt class="col-sm-3">Lektor</dt>
    <dd class="col-sm-9">@Model.Term.Instructor?.FullName ?? "Nepřiřazeno"</dd>
    <dt class="col-sm-3">Začátek</dt>
    <dd class="col-sm-9">@DateTime.SpecifyKind(Model.Term.StartUtc, DateTimeKind.Utc).ToLocalTime().ToString("f")</dd>
    <dt class="col-sm-3">Konec</dt>
    <dd class="col-sm-9">@DateTime.SpecifyKind(Model.Term.EndUtc, DateTimeKind.Utc).ToLocalTime().ToString("f")</dd>
    <dt class="col-sm-3">Kapacita</dt>
    <dd class="col-sm-9">@Model.Term.Capacity</dd>
    <dt class="col-sm-3">Obsazeno</dt>
    <dd class="col-sm-9">@Model.Term.SeatsTaken</dd>
    <dt class="col-sm-3">Stav</dt>
    <dd class="col-sm-9">
        @if (Model.Term.IsActive)
        {
            <span class="badge bg-success">Aktivní</span>
        }
        else
        {
            <span class="badge bg-secondary">Neaktivní</span>
        }
    </dd>
</dl>

<form method="post" class="d-flex gap-2">
    <button type="submit" class="btn btn-admin-warning" @(Model.Term.SeatsTaken > 0 ? "disabled" : null)>Smazat</button>
    <a asp-page="Index" class="btn btn-secondary">Zrušit</a>
</form>
