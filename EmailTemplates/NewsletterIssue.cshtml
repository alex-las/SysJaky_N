@model SysJaky_N.EmailTemplates.Models.NewsletterIssueEmailModel
@{
    Layout = null;
    var sections = Model.Sections ?? Array.Empty<SysJaky_N.EmailTemplates.Models.NewsletterIssueEmailSectionModel>();
}
<!DOCTYPE html>
<html>
<body style="font-family: Arial, sans-serif; color: #111; background-color: #f9fafb;">
    <table width="100%" cellpadding="0" cellspacing="0" role="presentation">
        <tr>
            <td align="center" style="padding: 24px 0;">
                <table width="600" cellpadding="0" cellspacing="0" role="presentation" style="background-color: #ffffff; border-radius: 16px; overflow: hidden;">
                    <tr>
                        <td style="padding: 32px 40px;">
                            <p style="margin: 0 0 12px 0; color: #6b7280; font-size: 14px;">@Model.Preheader</p>
                            <h1 style="margin: 0 0 24px 0; font-size: 28px; color: #111827;">@Model.Subject</h1>
                            @if (!string.IsNullOrWhiteSpace(Model.IntroHtml))
                            {
                                <div style="margin-bottom: 24px; color: #374151; line-height: 1.6;">
                                    @Html.Raw(Model.IntroHtml)
                                </div>
                            }

@foreach (var contentSection in sections)
{
    if (string.IsNullOrWhiteSpace(contentSection.HtmlContent))
    {
        continue;
    }

    <section style="margin-bottom: 32px; border-bottom: 1px solid #e5e7eb; padding-bottom: 24px;">
        @if (!string.IsNullOrWhiteSpace(contentSection.CategoryName))
        {
            <p style="margin: 0 0 8px 0; color: #2563eb; font-size: 14px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.08em;">@contentSection.CategoryName</p>
        }
        <h2 style="margin: 0 0 16px 0; font-size: 22px; color: #111827;">@contentSection.Title</h2>
        <div style="color: #374151; line-height: 1.7;">
            @Html.Raw(contentSection.HtmlContent)
        </div>
    </section>
}

                            @if (!string.IsNullOrWhiteSpace(Model.OutroHtml))
                            {
                                <div style="margin-top: 32px; color: #374151; line-height: 1.6;">
                                    @Html.Raw(Model.OutroHtml)
                                </div>
                            }

                            <p style="margin-top: 32px; font-size: 12px; color: #9ca3af;">Tento e-mail jste obdrželi na základě vašeho souhlasu s odběrem novinek. Pokud si nepřejete dostávat další newslettery, odpovězte na tuto zprávu a my se postaráme o odhlášení.</p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
