@page "{id:int}"
@model SysJaky_N.Pages.Admin.CourseTerms.DeleteModel
@{
    ViewData["Title"] = "Delete Course Term";
}

<h1>Delete Course Term</h1>

@if (!string.IsNullOrEmpty(Model.ErrorMessage))
{
    <div class="alert alert-danger">@Model.ErrorMessage</div>
}

<h3>Are you sure you want to delete this course term?</h3>

<dl class="row mt-4">
    <dt class="col-sm-3">Course</dt>
    <dd class="col-sm-9">@Model.Term.Course?.Title</dd>
    <dt class="col-sm-3">Instructor</dt>
    <dd class="col-sm-9">@Model.Term.Instructor?.FullName ?? "Unassigned"</dd>
    <dt class="col-sm-3">Start</dt>
    <dd class="col-sm-9">@DateTime.SpecifyKind(Model.Term.StartUtc, DateTimeKind.Utc).ToLocalTime().ToString("f")</dd>
    <dt class="col-sm-3">End</dt>
    <dd class="col-sm-9">@DateTime.SpecifyKind(Model.Term.EndUtc, DateTimeKind.Utc).ToLocalTime().ToString("f")</dd>
    <dt class="col-sm-3">Capacity</dt>
    <dd class="col-sm-9">@Model.Term.Capacity</dd>
    <dt class="col-sm-3">Seats taken</dt>
    <dd class="col-sm-9">@Model.Term.SeatsTaken</dd>
    <dt class="col-sm-3">Status</dt>
    <dd class="col-sm-9">
        @if (Model.Term.IsActive)
        {
            <span class="badge bg-success">Active</span>
        }
        else
        {
            <span class="badge bg-secondary">Inactive</span>
        }
    </dd>
</dl>

<form method="post" class="d-flex gap-2">
    <button type="submit" class="btn btn-danger" @(Model.Term.SeatsTaken > 0 ? "disabled" : null)>Delete</button>
    <a asp-page="Index" class="btn btn-secondary">Cancel</a>
</form>
