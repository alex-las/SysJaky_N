@page "{id:int}"
@model SysJaky_N.Pages.Orders.DetailsModel
@using System.Collections.Generic
@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer Localizer
@{
    ViewData["Title"] = Localizer["Title", Model.Order.Id].Value;
    var orderResources = new OrderDetailsViewModel
    {
        Order = Model.Order,
        PaymentEnabled = Model.PaymentEnabled,
        QrCodeImage = Model.QrCodeImage,
        StatusLabel = Localizer["StatusLabel"].Value,
        DateLabel = Localizer["DateLabel"].Value,
        CourseHeader = Localizer["CourseHeader"].Value,
        QuantityHeader = Localizer["QuantityHeader"].Value,
        UnitPriceExclVatHeader = Localizer["UnitPriceExclVatHeader"].Value,
        VatHeader = Localizer["VatHeader"].Value,
        TotalHeader = Localizer["TotalHeader"].Value,
        SubtotalLabel = Localizer["SubtotalLabel"].Value,
        VatLabel = Localizer["VatLabel"].Value,
        TotalLabel = Localizer["TotalLabel"].Value,
        SeatTokensHeading = Localizer["SeatTokensHeading"].Value,
        CourseFallbackFormat = Localizer["CourseFallbackFormat"].Value,
        SeatTokenRedeemedFormat = Localizer["SeatTokenRedeemedFormat"].Value,
        SeatTokenAvailableText = Localizer["SeatTokenAvailableText"].Value,
        QrCodeAltText = Localizer["QrCodeAltText"].Value,
        PayButtonText = Localizer["PayButtonText"].Value,
        DownloadInvoiceText = Localizer["DownloadInvoiceText"].Value,
        StatusTranslations = OrderStatusExtensions.CreateTranslationMap(
            status => Localizer[$"Status{status.GetLocalizationKeySuffix()}"].Value)
    };
}

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a asp-page="/Account/Manage">@Localizer["ProfileBreadcrumb"]</a></li>
        <li class="breadcrumb-item active" aria-current="page">@Localizer["BreadcrumbCurrent", Model.Order.Id]</li>
    </ol>
</nav>

<h1>@Localizer["Heading", Model.Order.Id]</h1>

<partial name="~/Pages/Shared/Orders/_OrderDetails.cshtml" model="orderResources" />
